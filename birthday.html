<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy 22nd Birthday üéÇ</title>
<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    height:100vh;
    overflow:hidden;
    background: linear-gradient(135deg,#ff9ec3,#ffb3e6);
    transition:2s;
}

.container{
    width:95%;
    max-width:450px;
    text-align:center;
    display:flex;
    flex-direction:column;
    align-items:center;
}

button{
    padding:12px 24px;
    border:none;
    border-radius:30px;
    font-size:16px;
    font-weight:bold;
    background:white;
    color:#ff4e50;
    cursor:pointer;
    margin:5px;
}

#countdown{
    font-size:65px;
    margin-top:20px;
}
.hidden{display:none}

#birthdayTitle{
    font-size:2rem;
    color:#fff;
    text-shadow: 2px 2px 8px #ff3399;
    margin-bottom:20px;
}

.cake-wrapper{
    position:relative;
    display:flex;
    justify-content:center;
    align-items:flex-end;
    width:100%;
    max-width:400px;
}

.cake{
    position:relative;
    width:200px;
    height:160px;
}

/* Cake layers */
.layer{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    border-radius:15px 15px 30px 30px;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    transition: clip-path 1s ease;
}
.layer1{ bottom:0; width:200px; height:60px; background:#f3e5ab;} /* vanilla */
.layer2{ bottom:60px; width:150px; height:50px; background:#d2691e;} /* chocolate */
.layer3{ bottom:110px; width:100px; height:40px; background:#f3e5ab;} /* vanilla */

/* Candle with 22 */
.candle{
    position:absolute;
    top:-45px;
    left:50%;
    transform:translateX(-50%);
    width:28px;
    height:40px;
    background:white;
    border-radius:2px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:bold;
    color:#ff4e50;
    font-size:16px;
}
.flame{
    position:absolute;
    top:-20px;
    left:50%;
    transform:translateX(-50%);
    width:14px;
    height:20px;
    background: radial-gradient(circle, yellow 0%, orange 60%, red 100%);
    border-radius:50%;
    animation:flicker 0.3s infinite alternate;
}
@keyframes flicker{
    0%{transform:translateX(-50%) scale(1); opacity:1;}
    50%{transform:translateX(-50%) scale(1.2); opacity:0.8;}
    100%{transform:translateX(-50%) scale(0.9); opacity:1;}
}

/* Her photo */
.photo{
    width:100px;
    height:100px;
    border-radius:50%;
    overflow:hidden;
    border:3px solid white;
    margin-left:20px;
    flex-shrink:0;
}
.photo img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* Floating hearts */
.heart{
    position:absolute;
    width:15px;
    height:15px;
    background:red;
    transform:rotate(-45deg);
    animation:floatUp 3s linear infinite;
}
.heart::before,.heart::after{
    content:"";
    position:absolute;
    width:15px;
    height:15px;
    background:red;
    border-radius:50%;
}
.heart::before{ top:-7.5px; left:0;}
.heart::after{ top:0; left:7.5px;}
@keyframes floatUp{
    0%{transform:translateY(0) rotate(-45deg); opacity:1;}
    100%{transform:translateY(-150px) rotate(-45deg); opacity:0;}
}

/* Fireworks */
.firework{
    position:absolute;
    width:4px;
    height:4px;
    background:yellow;
    border-radius:50%;
    animation:explode 1s ease-out forwards;
}
@keyframes explode{
    0%{transform:scale(0); opacity:1;}
    100%{transform:scale(10); opacity:0;}
}

/* Cut line */
.cutLine{
    position:absolute;
    bottom:0;
    left:50%;
    transform:translateX(-50%);
    width:3px;
    height:160px;
    background:black;
    z-index:5;
    transition:0.5s;
}

/* Responsive */
@media(max-width:400px){
    .cake{width:150px; height:120px;}
    .layer1{width:150px; height:50px;}
    .layer2{width:120px; height:40px; bottom:50px;}
    .layer3{width:80px; height:30px; bottom:90px;}
    .photo{width:70px; height:70px; margin-left:10px;}
    #birthdayTitle{font-size:1.5rem;}
    .candle{font-size:14px; width:22px; height:35px;}
}
</style>
</head>
<body>

<div class="container">
<h2 id="title">Tap To Begin Final Surprise üéÅ</h2>
<button id="startBtn" onclick="startCountdown()">Start</button>
<div id="countdown"></div>

<div id="birthdaySection" class="hidden">
<h1 id="birthdayTitle">üéâ HAPPY BIRTHDAY MY LOVE üéâ</h1>

<div class="cake-wrapper">
    <div class="cake" id="cake">
        <div class="layer layer1" id="layer1"></div>
        <div class="layer layer2" id="layer2"></div>
        <div class="layer layer3" id="layer3"></div>
        <div class="candle" id="candle">22
            <div class="flame" id="flame"></div>
        </div>
    </div>
    <div class="photo">
        <img src="photo1.jpeg" alt="Her Photo">
    </div>
</div>

<!-- Buttons -->
<button onclick="blowCandle()">Blow Candle üí®</button>
<button onclick="cutCake()">Cut Cake üî™</button>
<button onclick="firstBite()">First Bite üòå</button>
<button id="openMessageBtn" class="hidden" onclick="openMessage()">Open for a Short Message üéÅ</button>

</div>

<audio id="music" src="birthday.mpeg" autoplay></audio>

<script>
let played=false;

function startCountdown(){
    if(played) return;
    played=true;
    document.getElementById("startBtn").style.display="none";
    let count=10;
    let cd=document.getElementById("countdown");
    cd.innerText=count;
    let interval=setInterval(()=>{
        count--;
        cd.innerText=count;
        if(count<=0){
            clearInterval(interval);
            cd.innerText="";
            reveal();
        }
    },1000);
}

function reveal(){
    document.getElementById("title").style.display="none";
    document.getElementById("birthdaySection").classList.remove("hidden");
    document.getElementById("music").play();
    floatingHearts();
    autoFireworks();
}

function blowCandle(){
    document.getElementById("flame").style.display="none";
}

function cutCake(){
    // Show black cut line
    const cake=document.getElementById("cake");
    let cutLine=document.createElement("div");
    cutLine.className="cutLine";
    cake.appendChild(cutLine);
    clapEffect();
}

function firstBite(){
    // Remove top-right portion of each layer
    document.getElementById("layer1").style.clipPath = "polygon(0 0, 80% 0, 100% 100%, 0 100%)";
    document.getElementById("layer2").style.clipPath = "polygon(0 0, 80% 0, 100% 100%, 0 100%)";
    document.getElementById("layer3").style.clipPath = "polygon(0 0, 80% 0, 100% 100%, 0 100%)";

    // Show the Open Message button
    document.getElementById("openMessageBtn").classList.remove("hidden");
}

function openMessage(){
    window.location.href = "9.html";
}

function floatingHearts(){
    setInterval(()=>{
        let heart=document.createElement("div");
        heart.className="heart";
        heart.style.left=Math.random()*100+"vw";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),5000);
    },400);
}

function autoFireworks(){
    setInterval(()=>{
        let fw=document.createElement("div");
        fw.className="firework";
        fw.style.left=Math.random()*100+"vw";
        fw.style.top=Math.random()*50+"vh";
        document.body.appendChild(fw);
        setTimeout(()=>fw.remove(),1000);
    },700);
}

function clapEffect(){
    for(let i=0;i<6;i++){
        let fw=document.createElement("div");
        fw.className="firework";
        fw.style.left="45%";
        fw.style.top="45%";
        document.body.appendChild(fw);
        setTimeout(()=>fw.remove(),1000);
    }
}
</script>

</body>
</html>